CREATE DATABASE LISTA16;

USE LISTA16;

CREATE TABLE DEPT(
	COD_DEPT 								INT 							NOT NULL,
	NOME_DEPT								VARCHAR(100)					NOT NULL,
    PRIMARY KEY(COD_DEPT)
);

CREATE TABLE DEPENDENTE(
	COD_DEPENDENTE							INT								NOT NULL,
    NOME_DEPENDENTE							VARCHAR(100)					NOT NULL,
    DT_NASCIMEMTO_DEPENDENTE				DATE							NOT NULL,
    SEXO_DEPENDETE							VARCHAR(20)						NOT NULL,
    PRIMARY KEY(COD_DEPENDENTE),
	EMPREGADO_COD							INT								NOT NULL,
    CONSTRAINT FK_DEPENDENTE_EMPREGADO		FOREIGN KEY(EMPREGADO_COD)		REFERENCES	EMPREGADO(COD_EMPREGADO)
);

CREATE TABLE EMPREGADO(
	COD_EMPREGADO							INT						NOT NULL,
	NOME_EMPREGADO							VARCHAR(100)			NOT NULL,
    DT_NASCIMENTO_EMPREGADO					DATE					NOT NULL,
    SEXO_EMPREGADO							VARCHAR(20)   			NOT NULL,
    DT_ADMISSAO_EMPREGADO					DATE					NOT NULL,
    EST_CIVIL_EMPREGADO			    		VARCHAR(20)				NOT NULL,
    SALARIO_EMPREGADO						NUMERIC(10,2)			NOT NULL,
    PRIMARY KEY(COD_EMPREGADO),
    DEPT_COD								INT						NOT NULL,
    CONSTRAINT FK_DEPT_EMPREGADO			FOREIGN KEY(DEPT_COD)	REFERENCES	DEPT(COD_DEPT)
);


INSERT INTO DEPT(COD_DEPT, NOME_DEPT) VALUES(100, 'RH'),
											(101, 'MARKENTING'),
											(102, 'TI'),
                                            (103, 'CONTABILIDADE'),
                                            (104, 'ADVOCACIA');
                                            
INSERT INTO EMPREGADO(COD_EMPREGADO, NOME_EMPREGADO, DT_NASCIMENTO_EMPREGADO, SEXO_EMPREGADO, DT_ADMISSAO_EMPREGADO, EST_CIVIL_EMPREGADO, SALARIO_EMPREGADO, DEPT_COD) 
									VALUES	(200, 'JOÃO RAMALHO', '1980-03-06', 'MASCULINO', '1999-01-07', 'SOLTEIRO', 2000.00, 102),
											(201, 'PEDRO RAMALHO', '1968-04-07', 'MASCULINO', '1998-03-09', 'SOLTEIRO', 2500.00, 103),
											(202, 'MARIO RAMALHO', '1970-08-05', 'MASCULINO', '1997-01-07', 'CASADO', 3800.00, 101),
											(203, 'ESTELINA RAMALHO', '1956-09-11', 'FEMININO', '2001-10-08', 'CASADO', 4900.00, 104),
											(204, 'JOSE MARÇAL', '1954-09-12', 'MASCULINO', '1992-11-04', 'CASADO', 6000.00, 100),
											(205, 'JOVELINO LINO', '1950-01-12', 'MASCULINO', '1988-10-05', 'SOLTEIRO', 7000.00, 101),
											(206, 'MARIA DIAS', '1961-09-11', 'FEMININO', '2003-08-07', 'CASADO', 5000.00, 101),
											(207, 'ANA LIMA', '1985-05-14', 'FEMININO', '2010-06-12', 'SOLTEIRO', 3200.00, 102),
											(208, 'CARLOS FERREIRA', '1972-11-23', 'MASCULINO', '1995-09-20', 'CASADO', 4500.00, 103),
											(209, 'LUCAS SANTOS', '1990-02-17', 'MASCULINO', '2015-04-15', 'SOLTEIRO', 2800.00, 104),
											(210, 'FERNANDA SOUZA', '1983-07-30', 'FEMININO', '2008-12-01', 'CASADO', 5200.00, 100),
											(211, 'RICARDO ALVES', '1978-10-08', 'MASCULINO', '2002-03-22', 'CASADO', 5700.00, 101),
											(212, 'PATRÍCIA OLIVEIRA', '1995-06-19', 'FEMININO', '2018-07-10', 'SOLTEIRO', 3100.00, 102),
											(213, 'JULIANA MORAES', '1987-09-25', 'FEMININO', '2012-11-05', 'CASADO', 4900.00, 103),
											(214, 'GUSTAVO PEREIRA', '1981-12-03', 'MASCULINO', '2006-02-14', 'SOLTEIRO', 5300.00, 104),
											(215, 'RAFAEL COSTA', '1992-04-28', 'MASCULINO', '2017-09-18', 'CASADO', 3500.00, 100),
											(216, 'MARCOS VINÍCIUS', '1976-08-09', 'MASCULINO', '2000-10-30', 'SOLTEIRO', 6000.00, 101),
											(217, 'CAROLINA MARTINS', '1989-11-15', 'FEMININO', '2014-05-21', 'CASADO', 4700.00, 102),
											(218, 'DANIEL TEIXEIRA', '1984-01-27', 'MASCULINO', '2009-08-12', 'SOLTEIRO', 4900.00, 103),
											(219, 'ROBERTA MELO', '1993-03-05', 'FEMININO', '2020-01-07', 'CASADO', 3300.00, 104);
      
INSERT INTO DEPENDENTE(COD_DEPENDENTE, NOME_DEPENDENTE, DT_NASCIMEMTO_DEPENDENTE, SEXO_DEPENDETE, EMPREGADO_COD) 
									VALUES	(300, 'GUILHERME MENDES', '1992-01-06', 'MASCULINO', 202),
											(301, 'BRUNO SILVA', '1996-04-09', 'MASCULINO', 203),
											(302, 'GEAN ALIFI', '1993-06-08', 'MASCULINO', 204),
											(303, 'VITOR AGUENA', '2002-06-05', 'MASCULINO', 202),
											(304, 'BRUNA FERNANDES', '2001-03-04', 'FEMININO', 202),
											(305, 'MANUELA SILVA', '2000-06-04', 'FEMININO', 202),
											(306, 'RAFAELA COSTA', '1999-07-12', 'FEMININO', 203),
											(307, 'THIAGO MORAES', '1995-08-23', 'MASCULINO', 204),
											(308, 'JULIANA PEREIRA', '1998-05-17', 'FEMININO', 201),
											(309, 'GUSTAVO ALMEIDA', '1993-11-29', 'MASCULINO', 202),
											(310, 'CAMILA SOUZA', '2000-12-15', 'FEMININO', 205),
											(311, 'LUCAS MARTINS', '1997-09-21', 'MASCULINO', 206),
											(312, 'MARCELA OLIVEIRA', '1994-10-30', 'FEMININO', 207),
											(313, 'FELIPE TEIXEIRA', '1996-02-08', 'MASCULINO', 208),
											(314, 'NATHALIA RAMOS', '2001-03-22', 'FEMININO', 209),
											(315, 'DANILO FERREIRA', '1995-06-19', 'MASCULINO', 210),
											(316, 'PRISCILA MENEZES', '2002-04-14', 'FEMININO', 211),
											(317, 'ROBERTO DIAS', '1991-07-07', 'MASCULINO', 212),
											(318, 'FERNANDO LOPES', '1998-08-26', 'MASCULINO', 213),
											(319, 'MARIANA SANTOS', '1993-09-09', 'FEMININO', 214);
                                            
								
DELIMITER $$

CREATE PROCEDURE EXER3(OUT SOMA DECIMAL(10,2))
BEGIN
	SELECT SUM(SALARIO_EMPREGADO) INTO SOMA FROM DEPENDENTE;
END $$


CALL EXER3(@TOTAL);
SELECT @TOTAL AS SOMA;



DELIMITER $$

CREATE PROCEDURE EXER_0000000004()
BEGIN
	SELECT COUNT(SEXO_EMPREGADO) FROM EMPREGADO WHERE (SEXO_EMPREGADO = 'MASCULINO'); 
END $$

CALL EXER_0000000004();



				

