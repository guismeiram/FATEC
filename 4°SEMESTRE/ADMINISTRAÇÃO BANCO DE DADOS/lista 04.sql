CREATE DATABASE LISTA04;

USE LISTA04;

CREATE TABLE PRODUCTS(
	ID_PRODUCTS 				INTEGER(10) 						NOT NULL,
    NAME_PRODUCTS				VARCHAR(100)						NOT NULL,
    AMOUNT_PRODUCTS				INT(10)								NOT NULL,
    PRICE_PRODUCTS				FLOAT								NOT NULL,
	PRIMARY KEY(ID_PRODUCTS),
    PROVIDERS_ID 				INT(10)								NOT NULL,
    CATEGORIES_ID				INT(10)								NOT NULL,
    CONSTRAINT					FK_PROVIDERS_PRODUCTS     			FOREIGN KEY(PROVIDERS_ID)			REFERENCES PROVIDERS(ID_PROVIDERS),
    CONSTRAINT 					FK_CATEGORIES_PRODUCTS				FOREIGN KEY(CATEGORIES_ID)			REFERENCES CATEGORIES(ID_CATEGORIES)
);



CREATE TABLE PROVIDERS(
	ID_PROVIDERS				INTEGER(10)								NOT NULL,
	NAME_PROVIDERS	    		VARCHAR(100)							NOT NULL,
    STREET_PROVIDERS			VARCHAR(100) 							NOT NULL,
    CITY_PROVIDERS				VARCHAR(100)							NOT NULL,
    STATE_PROVIDERS				CHAR(10)								NOT NULL,
	PRIMARY KEY(ID_PROVIDERS)
);

CREATE TABLE CATEGORIES(
	ID_CATEGORIES				INTEGER(10)								NOT NULL,
	NAME_CATEGORIES	    		VARCHAR(100)							NOT NULL,
	PRIMARY KEY(ID_CATEGORIES)
);
#INSERT
INSERT INTO PRODUCTS (ID_PRODUCTS, NAME_PRODUCTS, AMOUNT_PRODUCTS, PRICE_PRODUCTS, PROVIDERS_ID, CATEGORIES_ID)
VALUES (1, 'TWO-DOOR WARDROBLE', 100, 80, 6, 8),
	   (2, 'DINING TABLE',  1000, 560, 1, 9),
	   (3, 'TOWEL HOLDER', 10000, 5.50, 5, 1),
	   (4, 'COMPUTER DESK', 350, 100, 4, 6),
       (5, 'CHAIR', 3000, 210.64, 3, 6),
       (6, 'SINGLE BED', 750, 99, 1, 2);
       
INSERT INTO PROVIDERS (ID_PROVIDERS, NAME_PROVIDERS, STREET_PROVIDERS, CITY_PROVIDERS, STATE_PROVIDERS)
VALUES (1, 'HENRIQUE', 'AV. BRASIL', 'RIO DE JANEIRO', 'RJ'),
	   (2, 'MARCELO AUGUSTO', 'RUA IMIGRANTES', 'BELO HORIZONTE', 'MG'),
	   (3, 'CAROLINA SILVA',  'AV. SÃO PAULO',  'SALAVADOR', 'BA'),
	   (4, 'GUILERME STAFF', 'RUA CENTRAL', 'PORTO ALEGRE', ' RS'),
       (5, 'ISABELA MORAES', 'AV. JUIZ GRANDE', 'CURITIBA', 'PR'),
       (6, 'FRANCISCO ACERR', 'AV. PAULISTA', 'SÃO PAULO', 'SP');
       
       
INSERT INTO CATEGORIES (ID_CATEGORIES, NAME_CATEGORIES)
VALUES (1, 'OLD STOCK'),
	   (2, 'NEW STOCK'),
	   (3, 'MODERN'),
	   (4, 'COMMERCIAL'),
       (5, 'RECYCLABLE'),
       (6, 'EXECUTIVE'),
       (7, 'SUPERIOR'),
       (8, 'WOOD'),
       (9, 'SUPER LUXURY'),
       (10, 'VINTAGE');
       
#SELECT QUERY
SELECT NAME_CATEGORIES FROM	CATEGORIES LEFT	JOIN PRODUCTS ON CATEGORIES.NAME_CATEGORIES = PRODUCTS.NAME_PRODUCTS;

SELECT NAME_PROVIDERS FROM PROVIDERS LEFT JOIN PRODUCTS ON PROVIDERS.NAME_PROVIDERS = PRODUCTS.NAME_PRODUCTS;
	
SELECT NAME_CATEGORIES FROM	CATEGORIES LEFT	JOIN PRODUCTS ON CATEGORIES.NAME_CATEGORIES = PRODUCTS.NAME_PRODUCTS;

SELECT P.NAME_PRODUCTS, PR.NAME_PROVIDERS
FROM PRODUCTS P
JOIN PROVIDERS PR ON (PR.NAME_PROVIDERS = 'GUILERME STAFF' AND P.NAME_PRODUCTS = 'COMPUTER DESK') OR
 (PR.NAME_PROVIDERS = 'CAROLINA SILVA' AND P.NAME_PRODUCTS = 'CHAIR');
 
SELECT P.NAME_PRODUCTS, PR.NAME_PROVIDERS
FROM PRODUCTS P
JOIN PROVIDERS PR ON PR.ID_PROVIDERS = P.PROVIDERS_ID
#JOIN CATEGORIES C ON P.CATEGORIES_ID = C.ID_CATEGORIES
WHERE PR.NAME_PROVIDERS = 'GUILHERME STAFF' OR PR.NAME_PROVIDERS = 'CAROLINA SILVA' OR P.NAME_PRODUCTS = 'COMPUTER DESK' OR P.NAME_PRODUCTS = 'CHAIR';
#C.ID_CATEGORIES = 6 OR
